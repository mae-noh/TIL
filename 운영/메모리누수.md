# Memory Leak

<aside>
π’΅ κ°λ°μ„λ²„, λ°°μΉ μ‹¤ν–‰μ‹λ§λ‹¤ κ°€μ©λ©”λ¨λ¦¬κ°€ κ³„μ† μ¤„κ³  λ³µκµ¬λμ§€ μ•λ” μ΄μ
    <br>
    <br><br>
    
<img width="1603" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-08-01 α„‹α…©α„’α…® 9 59 25" src="https://user-images.githubusercontent.com/65100355/182157851-c20ac555-db22-4d55-a99c-9c0aea543f9a.png">

- RAM Used 88% μ‚¬μ©
- RAM Free 150Mib κΉμ§€ λ–¨μ–΄μ§

<br>

<h2>λ©”λ¨λ¦¬ λ„μ ν„μƒ</h2>


ν•„μ”ν•μ§€ μ•μ€ λ©”λ¨λ¦¬λ¥Ό κ³„μ† μ μ ν•λ” ν„μƒ

λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•λ” κ°μ²΄κ°€ κ°€λΉ„μ§€ μ»¬λ ‰μ…(GC)μ— μν•΄ νμλμ§€ μ•κ³  λ„μ λλ” ν„μƒ

κ°€μ© λ©”λ¨λ¦¬λ¥Ό λλ¦¬κΈ° μ„ν•΄ κ°€λΉ„μ§€ μ»¬λ ‰μ…μ μ¤λ²„ν—¤λ“ μ¦κ°€ν•μ—¬ μ‘λ‹µμ‹κ°„ μ²λ¦¬λ‰μ΄ λ¦μ–΄μ§ μ μμ

<br>
<br>

<h2>ν•΄κ²° λ°©λ²•</h2>

1. μ΄μ, κ°λ° ν™κ²½ μ†μ¤ λ²„μ „μ΄ κ°™μ€μ§€ ν™•μΈν•λ‹¤.
2. μ΄μ, κ°λ° μ‹¤ν–‰ μ¤ν¬λ¦½νΈκ°€ κ°™μ€μ§€ ν™•μΈν•λ‹¤.
    - μ‹¤ν–‰μ‹ μµμ΄, μµλ€ ν• λ‹Ή λ©”λ¨λ¦¬ μ„¤μ •
    
    ```java
    java -Xms1g -Xmx1g -jar bin/μ‹¤ν–‰νμΌλ….jar
    ```
    
    - -Xms1g
        - `-Xms μµμ…` : jarνμΌ μ΄κΈ° ν• λ‹Ή λ™μ  λ©”λ¨λ¦¬
        - `1g` : λ©”λ¨λ¦¬ ν¬κΈ°
    - -Xmx1g
        - `-Xms μµμ…` : jarνμΌμ΄ κ°€μ§ μ μλ” μµλ€ λ™μ  λ©”λ¨λ¦¬
        - `1g` : λ©”λ¨λ¦¬ ν¬κΈ° <br><br>
    - μµλ€ ν• λ‹Ή λ©”λ¨λ¦¬λ¥Ό μ μ©ν• κ²½μ°,
    jarνμΌ μ‹¤ν–‰μ‹ μµλ€ λ©”λ¨λ¦¬λ¥Ό λ„μ„ κ²½μ°, λ‹¤μ΄λ  μ μμΌλ―€λ΅ λ¨λ‹ν„°λ§ ν•„μ”
    - λ”°λΌμ„ λ©”λ¨λ¦¬ λ„μλ¥Ό μ²λ¦¬ν•λ” κ²ƒμ΄ λ” ν™•μ‹¤ν• ν•΄κ²° λ°©λ²•
3. μ΄μ, κ°λ° μ‹¤ν–‰ μ‹ λ¦¬μ†μ¤ μ–Όλ§λ‚ μ΅μ•„λ¨Ήλ”μ§€ ν™•μΈν•λ‹¤.
    
    ```java
    ps -eo user,pid,ppid,rss,size,vsize,pmem,pcpu,time,cmd --sort -rss | head -n 11
    ```
    
4. λ©”λ¨λ¦¬ λ„μ μ°ΎκΈ° <br><br>
    a. λνΌ ν΄λμ¤(Integer, Long, String..) λ¬΄μλ―Έν• κ°μ²΄λ¥Ό μƒμ„±ν• κ²½μ° <br><br>
    <img width="1605" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-08-01 α„‹α…©α„’α…® 10 01 02" src="https://user-images.githubusercontent.com/65100355/182157878-bfd80d31-4085-417f-a8cd-de257fe48289.png">
    - forλ¬Έ μ•μ— λ¬΄μλ―Έν•κ² λνΌ ν΄λμ¤ μ •λ¦¬ ν›„,
    - RAM Used 75% μ‚¬μ©
    - RAM Free 1.5Gib <br>
    *ν•μ§€λ§ μ•„μ§κΉμ§€λ„ λ°°μΉ μ‹¤ν–‰μ‹ 0.1Gib μ •λ„ λ©”λ¨λ¦¬ μ‚¬μ©*
    
